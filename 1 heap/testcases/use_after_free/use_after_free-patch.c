#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct Node{
    int value;
    int len;
    //struct Node *next;
}Node;

void f(Node *a)
{
    char *buf;
    printf("value: %d\n",a->value);
    if(a->len>0)
    {
        buf = (char*)malloc(a->len);
        strcpy(buf,"hello");
        printf("buf: %s\n",buf);
        free(buf);
        buf = NULL;
        if(buf)
            printf("%c\n",buf[0]);
    }
}

int main()
{
    Node *a=(Node *)malloc(sizeof(Node));
    a->value = 10;
    a->len = 5;
    f(a);
    return 0;
}
